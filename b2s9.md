# Taller Individual  3
## Reactive Stream

**Semana**: 9

**Objetivos**:

- Aplicar los conocimientos sobre Reactive Stream.
- Generar y procesar flujos de datos reactivos.

### DescripciÃ³n:

Resuelva los siguientes problemas.

### Problema 1
**SincronizaciÃ³n de Sensores**

DescripciÃ³n: Simula dos sensores que emiten valores periÃ³dicos:

- Sensor1: Rango [20Â°C, 30Â°C], cada 1 segundo.
- Sensor2: Rango [30Â°C, 40Â°C], cada 1.5 segundos.
- Usa zip para combinar los valores de ambos sensores en un solo flujo.
- DetÃ©n el flujo despuÃ©s de 10 pares de valores.
- Genera una alerta si la diferencia absoluta entre las lecturas de Sensor1 y Sensor2 es mayor a 5Â°C.
  

```mathematica
Sensor1: 22Â°C, Sensor2: 27Â°C, Difference: 5Â°C
Sensor1: 24Â°C, Sensor2: 34Â°C, Difference: 10Â°C
ğŸš¨ ALERT! Significant difference detected: 10Â°C
```
# Resolucion
```Scala
import rx.lang.scala.Observable // Para crear flujos de datos reactivos

import scala.util.Random // Genera los datos que serÃ¡n emitidos por los observables

import scala.concurrent.duration._ // Para configurar los intervalos de tiempo entre las emisiones del flujo

// Objeto llamado sensor
object Sensores extends App {

  // Sensor1: Rango [20Â°C, 30Â°C], cada 1 segundo.
  val sensor1: Observable[Int] = Observable.interval(1.second).map(_ => Random.between(20, 31))

  // Sensor2: Rango [30Â°C, 40Â°C], cada 1.5 segundos.
  val sensor2: Observable[Int] = Observable.interval(1.5.second).map(_ => Random.between(30, 41))

  // Combina s1 y s2 y emite tuplas
  val flujoCombinado: Observable[(Int, Int)] = sensor1.zip(sensor2)

  // Limita el flujo a los primeros 10 pares
  val flujoLimitado: Observable[(Int, Int)] = flujoCombinado.take(10)

  // Calcula diferencias y genera mensajes
  val flujoProcesado: Observable[String] = flujoLimitado.map { case (s1, s2) =>
    val diferencia = Math.abs(s1 - s2)
    val alerta = if (diferencia > 5) f" ğŸš¨ Â¡ALERTA! Diferencia significativa detectada: $diferenciaÂ°C" else ""
    f"Sensor1: $s1Â°C, Sensor2: $s2Â°C, Diferencia: $diferenciaÂ°C$alerta"
  }

  // Observador para imprimir resultados
  flujoProcesado.subscribe(
    onNext = println,                  // Imprime cada emisiÃ³n
    onError = e => println(s"Error: $e"), // Maneja errores
    onCompleted = () => println("Flujo completado.") // Indica el fin del flujo
  )

  // Mantener la aplicaciÃ³n corriendo
  Thread.sleep(15000)
}

```

## Captura
   ![centro](https://github.com/Lxuxs/Talleres/blob/main/CAPTpRO.png)
### Problema 2
**Sistema de Alerta Complejo**

DescripciÃ³n: Simula tres sensores que emiten datos periÃ³dicos:

- Sensor1: Temperatura (20Â°C a 30Â°C).
- Sensor2: Humedad (40% a 60%).
- Sensor3: PresiÃ³n (950 hPa a 1050 hPa).
- Combina los datos de los tres sensores y detecta si alguna de las mÃ©tricas estÃ¡ fuera de rango.
- DetÃ©n el flujo despuÃ©s de 20 combinaciones.

```yaml
Temperature: 22Â°C, Humidity: 50%, Pressure: 970 hPa
Temperature: 25Â°C, Humidity: 42%, Pressure: 1055 hPa
ğŸš¨ ALERT! Pressure out of range: 1055 hPa
...
```

### CalificaciÃ³n:

Una vez que termine la primera parte (a lÃ¡piz y papel), debe presentar su trabajo a su docente para poder continuar con la segunda parte (Ãºltima pregunta)

- 10 puntos si presenta en el horario de prÃ¡cticas y experimentaciÃ³n.
- 7 puntos presenta en el horario de tutorÃ­a

La hora mÃ¡xima de presentaciÃ³n serÃ¡ las 08h30
